{% extends "layout/basic.html" %}

{% block departments_active %}active{% endblock %}

{% block title %}{{ current_department }}{% endblock %}


{% block content %}
  <table class="table table-striped my-1 text-center align-middle">
    <thead>
      <tr class="">
        <th class="col-auto">Место</th>
        <th class="col-auto">Рейтинг</th>
        <th class="col-auto">ФИО</th>
        <th class="col-auto">Замещает</th>
        <th class="col-auto">Отпуска</th>
      </tr>
    </thead>
    <tbody>
      {% for employee in employees %}
        <tr class="">
          <td>{{ forloop.counter }}</td>
          <td>{{ employee.rating }}</td>
          <td class="fw-bold">
            <a class="text-decoration-none"
               href="{% url 'vacations:details' employee.pk %}">
              {{ employee }}
            </a>
          </td>
          <td>
            {% if employee.replaces is null %}
              Нет
            {% else %}
              <a href="{% url 'vacations:details' employee.replaces.pk %}">
                {{ employee.replaces }}
              </a>
            {% endif %}
          </td>
          <td>
            <!--ul class="list-group py-0 my-0"-->
              {% for vacation in vacations %}
                {% if vacation.employee == employee %}
                  <label class="{% if vacation.relevance == PLANNED %}text-success
                  {% elif vacation.relevance == ARCHIVE %}text-secondary{% endif %}">{{ vacation.start|date:"SHORT_DATE_FORMAT" }} - {{ vacation.end|date:"SHORT_DATE_FORMAT" }}</label><br>
                {% endif %}
              {% endfor %}
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}